<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kumbh Kavach - Crowd Management System</title>
    <link rel="stylesheet" href="kumbh_kavach.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="fav-icon-photo.jpg" type="image/x-icon"><!------for fav icon------>
</head>
<body>
    <!----------------------------------------Header---------------------------------------------->
    <header class="app-header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-shield-alt"></i>
                <h1>Kumbh Kavach</h1>
            </div>
            <div class="location-indicator">
                <i class="fas fa-map-marker-alt"></i>
                <span id="currentLocation">Sector 8, Kumbh Mela</span>
            </div>
        </div>
    </header>

    <!------------------------------------Bottom Navigation------------------------------------>
    <nav class="bottom-nav">
        <button class="nav-item active" data-view="dashboard">
            <i class="fas fa-home"></i>
            <span>Dashboard</span>
        </button>
        <button class="nav-item" data-view="report">
            <i class="fas fa-plus-circle"></i>
            <span>Report</span>
        </button>
        <button class="nav-item" data-view="alerts">
            <i class="fas fa-bell"></i>
            <span>Alerts</span>
            <div class="notification-badge" id="alertsBadge">3</div>
        </button>
        <button class="nav-item" data-view="help">
            <i class="fas fa-hands-helping"></i>
            <span>Help</span>
        </button>
        <button class="nav-item emergency" data-view="emergency">
            <i class="fas fa-exclamation-triangle"></i>
            <span>SOS</span>
        </button>
    </nav>

    <!----------------------------------Main content area------------------------------------->
    <main class="main-content">
        
        <!-----------------------Dashboard View---------------------------------------------->
        <section id="dashboardView" class="view active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="totalReports">23</div>
                        <div class="stat-label">Total Reports</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon warning">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="activeSearches">7</div>
                        <div class="stat-label">Active Searches</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number" id="peopleFound">156</div>
                        <div class="stat-label">People Found</div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="action-buttons">
                    <button class="btn btn--primary btn--full-width action-btn" data-action="report">
                        <i class="fas fa-user-plus"></i>
                        Report Missing Person
                    </button>
                    <button class="btn btn--secondary btn--full-width action-btn" data-action="alerts">
                        <i class="fas fa-eye"></i>
                        View Active Alerts
                    </button>
                </div>
            </div>

            <div class="recent-activity">
                <h3>Recent Activity</h3>
                <div class="activity-list" id="activityList">
                    <!-------------Activity items will be done by javascript-------------------->
                </div>
            </div>
        </section>

        <!-------------------------Report missing person view-------------------------->
        <section id="reportView" class="view">
            <div class="form-container">
                <h2>Report Missing Person</h2>
                <form id="reportForm" class="missing-person-form">
                    <div class="photo-upload">
                        <div class="upload-area" id="uploadArea">
                            <i class="fas fa-camera"></i>
                            <p>Add Photo</p>
                            <span>Tap to upload or drag & drop</span>
                        </div>
                        <input type="file" id="photoInput" accept="image/*" hidden>
                        <div class="photo-preview" id="photoPreview" style="display: none;">
                            <img id="previewImage" alt="Preview">
                            <button type="button" class="remove-photo" id="removePhoto">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="fullName">Full Name *</label>
                        <br>
                        <input type="text" id="fullName" class="form-control" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="age">Age *</label>
                            <br>
                            <input type="number" id="age" class="form-control" min="1" max="120" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="gender">Gender *</label>
                            <br>
                            <select id="gender" class="form-control" required style="width: 100%; height: 40px; border-radius: 8px;">
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="lastSeen">Last Seen Location *</label>
                        <div class="location-input">
                            <input type="text" id="lastSeen" class="form-control" required>
                            <button type="button" class="location-btn">
                                <i class="fas fa-map-marker-alt"></i>
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="contactNumber">Contact Number *</label>
                        <br>
                        <input type="tel" id="contactNumber" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="description">Additional Description</label>
                        <br>
                        <textarea id="description" class="form-control" rows="4" placeholder="Physical description, clothing, distinctive features..." required style="width: 100%; height: 100px; border-radius: 8px;"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="emergencyContact">Emergency Contact</label>
                        <br>
                        <input type="tel" id="emergencyContact" class="form-control">
                    </div>

                    <button type="submit" class="btn btn--primary btn--full-width submit-btn">
                        <i class="fas fa-paper-plane"></i>
                        Report Missing Person
                    </button>
                </form>
            </div>
        </section>

        <!---------------------------------------Active alerts view--------------------------->
        <section id="alertsView" class="view">
            <div class="alerts-header">
                <h2>Active Alerts</h2>
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All</button>
                    <button class="filter-tab" data-filter="children">Children</button>
                    <button class="filter-tab" data-filter="elderly">Elderly</button>
                    <button class="filter-tab" data-filter="recent">Recent</button>
                </div>
            </div>
            
            <div class="alerts-list" id="alertsList">
                 <!-------------alerts will be populated by javascript-------------------->
            </div>
        </section>

        <!------------------------help finder view-------------------------------->
        <section id="helpView" class="view">
            <div class="help-header">
                <h2>Help Finder Dashboard</h2>
                <div class="map-placeholder">
                    <div class="map-container">
                        <i class="fas fa-map"></i>
                        <p>Interactive Map View</p>
                        <div class="map-markers">
                            <div class="marker red" style="top: 30%; left: 25%;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="marker blue" style="top: 60%; left: 70%;">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="marker green" style="top: 80%; left: 40%;">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="help-actions">
                <div class="action-buttons">
                    <button class="btn btn--primary action-btn">
                        <i class="fas fa-check-circle"></i>
                        Mark as Found
                    </button>
                    <button class="btn btn--secondary action-btn">
                        <i class="fas fa-phone"></i>
                        Contact Family
                    </button>
                    <button class="btn btn--outline action-btn">
                        <i class="fas fa-shield-alt"></i>
                        Alert Police
                    </button>
                </div>
            </div>

            <div class="communication-panel">
                <h3>Quick Communication</h3>
                <div class="chat-interface">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message received">
                            <span class="sender">Rajesh Kumar</span>
                            <p>Please help find my son Arjun, he was wearing blue shirt</p>
                            <span class="time">2 min ago</span>
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" placeholder="Type a message..." class="form-control">
                        <button class="btn btn--primary">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-------------------------------------Emergency view-------------------------------------->
        <section id="emergencyView" class="view">
            <div class="emergency-container">
                <div class="panic-button-container">
                    <button class="panic-button" id="panicButton">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span>EMERGENCY SOS</span>
                    </button>
                    <p class="panic-description">Tap and hold for 3 seconds to activate</p>
                </div>

                <div class="emergency-contacts">
                    <h3>Emergency Services</h3>
                    <div class="contact-list" id="emergencyContactsList">
                         <!------------Emergency contacts will be populated by javascript-------------------->
                    </div>
                </div>

                <div class="location-sharing">
                    <div class="location-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="locationSharing" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <div class="toggle-content">
                            <h4>Share Location</h4>
                            <p>Allow emergency responders to locate you</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!---------------------------success modal-------------------------->
    <div class="modal hidden" id="successModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-icon success">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>Report Submitted Successfully</h3>
            <p>Your missing person report has been shared with authorities and volunteers in your area.</p>
            <button class="btn btn--primary" id="closeSuccessModal">Continue</button>
        </div>
    </div>

    <!----------------Emergency modal---------------------------->
    <div class="modal hidden" id="emergencyModal">
        <div class="modal-overlay"></div>
        <div class="modal-content emergency">
            <div class="modal-icon emergency">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <h3>Emergency SOS Activated</h3>
            <p>Your location has been shared with emergency services. Help is on the way.</p>
            <button class="btn btn--primary" id="closeEmergencyModal">Cancel Emergency</button>
        </div>
    </div>

    <!----------------loading spinner----------------------------->
    <div class="loading-spinner hidden" id="loadingSpinner">
        <div class="spinner"></div>
        <p>Processing...</p>
    </div>
<script src="kumbh_kavach.js"></script>
</body>
</html>